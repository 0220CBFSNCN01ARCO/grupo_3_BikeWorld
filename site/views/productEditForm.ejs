<!-- Head -->
<%- include('partials/head', { title: 'Editar producto' }) %>

<!-- Header -->
<%- include('partials/headerNavbar') %>

<div class="container mt-5 mb-5">

  <div class="row">
    <div class="col-12 mb-3">
      <h2>Editar producto</h2>
    </div>
  </div>

  <form action="/products/<%= product.id %>?_method=PUT" method="POST" enctype="multipart/form-data">

    <div class="row">
      <div class="col-12 col-md-6 pt-3 pt-md-0">

        <div class="form-group">
          <label for="inputName">Nombre</label>
          <input type="text"
                 class="form-control"
                 id="inputName"
                 name="name"
                 value="<%= product.name %>">
        </div>

        <div class="form-group">
          <label for="inputPrice">Precio</label>
          <input type="number"
                 class="form-control"
                 id="inputPrice"
                 name="price"
                 value="<%= product.price %>">
        </div>

        <div class="form-group">
          <label for="inputDiscount">Descuento</label>
          <input type="number"
                 class="form-control"
                 id="inputDiscount"
                 name="discount"
                 value="<%= product.discount %>">
        </div>

        <div class="form-group">
          <label for="inputCategory">Categoría</label>
          <input type="text"
                 class="form-control"
                 id="inputCategory"
                 list="categories"
                 name="category"
                 value="<%= product.category.name %>"
                 autocomplete="off">
          <datalist id="categories">
            <% categories.forEach(category => { %>
              <option value="<%= category.name %>"></option>
            <% }) %>
          </datalist>
        </div>

        <div class="form-group">
          <label for="inputDescription">Descripción</label>
          <textarea name="description"
                    id="inputDescription"
                    cols="30"
                    rows="10"
                    class="form-control"><%= product.description %></textarea>
          <!-- IMPORTANT: Do not add newlines to the content of this text area PLEASE.
               All the newlines and spaces will be shown as content for the text area. -->
        </div>

        <div class="form-group">
          <label for="inputStatus">Estado</label>
          <input type="text"
                 class="form-control"
                 id="inputStatus"
                 list="states"
                 name="status"
                 value="<%= product.status.name %>"
                 autocomplete="off">
          <datalist id="states">
            <% states.forEach(status => { %>
              <option value="<%= status.name %>"></option>
            <% }) %>
          </datalist>
        </div>

      </div>
      <div class="col-12 col-md-6 order-first order-md-last">
        <label for="inputImage">Imagen</label><br>
        <input type="file" id="inputImage" name="image">
      </div>
    </div>

    <div class="row">
      <div class="col-12 col-md-6 mb-3">
        <button class="btn btn-primary form-control" type="submit">Guardar cambios</button>
      </div>
    </div>

  </form>
</div>

<!-- Incluir el footer -->
<%- include('partials/footer') %>
